## 执行期上下文

当**函数执行**时（准确来说，是在函数发生预编译的前一刻），会创建一个执行期上下文的内部对象。一个执行期上下文定义了一个函数执行时的环境。

每调用一次函数，就会创建一个新的上下文对象，他们之间是相互独立且独一无二的。当函数执行完毕，它所产生的执行期上下文会被销毁。

```javascript
      function fn(a) {
        console.log(a); // function a(){}

        var a = 123;
        console.log(a);  // 123

        function a() {}
        console.log(a); // 123

        var b = function() {};
        console.log(b);  // function() {}

        function d() {}
      }
      fn(1);
```

### 执行步骤四部曲

（1）创建AO对象。AO即 Activation Object 活跃对象，其实就是「执行期上下文」。

（2）找形参和变量声明，将形参名和变量作为 AO 的属性名，值为undefined。

（3）将实参值和形参统一，实参的值赋给形参。

（4）查找函数声明，函数名作为 AO 对象的属性名，值为整个函数体。

这个地方比较难理解。但只有了解了函数的预编译，才能理解明白函数的执行顺序。

**注意 函数声明和函数表达式是不一样的  注意变量提升**



### 全局预编译步骤和函数一样  名字却改为了   GO